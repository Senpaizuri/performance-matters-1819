var init=function(){navigator.mediaDevices&&"function"==typeof navigator.mediaDevices.getUserMedia&&Quagga.init({inputStream:{name:"Live",type:"LiveStream",target:finder},constraints:{width:480,height:480},decoder:{readers:["ean_reader"]},debug:{drawScanline:!0}},function(e){e?console.log(e):(console.log("Initialization finished. Ready to start"),Quagga.start())}),detect()},detect=function(){Quagga.onDetected(function(e){var t=e.codeResult.code;finder.classList.remove("active"),console.log("code found",e.codeResult.code),Quagga.stop(),window.location.pathname="album/"+t})},finder=document.querySelector("#finder");document.querySelector("[data-start]").addEventListener("click",function(){finder.classList.add("active"),init()});